#! /bin/sh /usr/share/dpatch/dpatch-run

@DPATCH@
--- a/OpenSceneGraph/src/osgPlugins/net/sockstream.h~
+++ b/OpenSceneGraph/src/osgPlugins/net/sockstream.h
@@ -58,9 +58,9 @@

 using namespace std;

-#if defined(__linux__) || defined(__CYGWIN__)
+#if !defined(MSG_MAXIOVLEN) && !(defined(__FreeBSD__) || defined(__NetBSD__) || defined(__OpenBSD__) || defined(__bsdi__) || defined(__APPLE__))
 #  define MSG_MAXIOVLEN     16
-#endif // __linux__
+#endif

 // socket exception classes
 class sockerr

